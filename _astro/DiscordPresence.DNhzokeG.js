import{j as u}from"./jsx-runtime.D_zvdyIk.js";import{g as Ot,a as ke,r as te}from"./index.GULj2CC1.js";import{F as xt}from"./index.Cas3dzMp.js";import{t as Dt,c as Lt,P as Qe,u as Ut,a as Xe}from"./index.BtUFHmRX.js";import{r as pt}from"./index.CtVJe97D.js";import{c as ze,g as Pt}from"./utils.C3dF5Rjy.js";import{S as Ae}from"./skeleton.DLG7lyoX.js";import"./index.D5SX7geO.js";import"./index.CdO4168P.js";var Be={};const Ze=Ot(Dt);var ye={},rt;function et(){return rt||(rt=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.HEARTBEAT_INTERVAL=ye.API_URL=void 0,ye.API_URL="api.lanyard.rest",ye.HEARTBEAT_INTERVAL=3e4),ye}var Ce={},st;function Ft(){if(st)return Ce;st=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.del=Ce.set=void 0;var e=Ze,t=et(),a=function(f){return e.__awaiter(void 0,[f],void 0,function(i){var I=i.apiKey,p=i.key,y=i.userId,h=i.value,H=i.apiUrl;return e.__generator(this,function(O){return[2,fetch("https://".concat(H||t.API_URL,"/v1/users/").concat(y,"/kv/").concat(p),{method:"PUT",headers:{Authorization:I},body:h})]})})};Ce.set=a;var r=function(f){return e.__awaiter(void 0,[f],void 0,function(i){var I=i.apiKey,p=i.key,y=i.userId,h=i.apiUrl;return e.__generator(this,function(H){return[2,fetch("https://".concat(h||t.API_URL,"/v1/users/").concat(y,"/kv/").concat(p),{method:"DELETE",headers:{Authorization:I}})]})})};return Ce.del=r,Ce}var Fe={},Ge={},Ke={},g={},Se={},at;function ht(){if(at)return Se;at=1,Object.defineProperty(Se,"__esModule",{value:!0});const e=0,t=1,a=2,r=3;return Se.ERROR_REVALIDATE_EVENT=r,Se.FOCUS_EVENT=e,Se.MUTATE_EVENT=a,Se.RECONNECT_EVENT=t,Se}var Je={},it;function Vt(){if(it)return Je;it=1;var e=Object.prototype.hasOwnProperty;function t(a,r){var f,i;if(a===r)return!0;if(a&&r&&(f=a.constructor)===r.constructor){if(f===Date)return a.getTime()===r.getTime();if(f===RegExp)return a.toString()===r.toString();if(f===Array){if((i=a.length)===r.length)for(;i--&&t(a[i],r[i]););return i===-1}if(!f||typeof a=="object"){i=0;for(f in a)if(e.call(a,f)&&++i&&!e.call(r,f)||!(f in r)||!t(a[f],r[f]))return!1;return Object.keys(r).length===i}}return a!==a&&r!==r}return Je.dequal=t,Je}var ot;function qt(){if(ot)return g;ot=1;var e=ke(),t=ht(),a=Vt();function r(n){return n&&n.__esModule?n:{default:n}}function f(n){if(n&&n.__esModule)return n;var c=Object.create(null);return n&&Object.keys(n).forEach(function(l){if(l!=="default"){var T=Object.getOwnPropertyDescriptor(n,l);Object.defineProperty(c,l,T.get?T:{enumerable:!0,get:function(){return n[l]}})}}),c.default=n,c}var i=r(e),I=f(t);const p=new WeakMap,y=()=>{},h=y(),H=Object,O=n=>n===h,G=n=>typeof n=="function",M=(n,c)=>({...n,...c}),ce=n=>G(n.then),ae={},B={},W="undefined",A=typeof window!=W,x=typeof document!=W,X=A&&"Deno"in window,o=()=>A&&typeof window.requestAnimationFrame!=W,C=(n,c)=>{const l=p.get(n);return[()=>!O(c)&&n.get(c)||ae,T=>{if(!O(c)){const E=n.get(c);c in B||(B[c]=E),l[5](c,M(E,T),E||ae)}},l[6],()=>!O(c)&&c in B?B[c]:!O(c)&&n.get(c)||ae]};let S=!0;const s=()=>S,[v,_]=A&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[y,y],k=()=>{const n=x&&document.visibilityState;return O(n)||n!=="hidden"},Q=n=>(x&&document.addEventListener("visibilitychange",n),v("focus",n),()=>{x&&document.removeEventListener("visibilitychange",n),_("focus",n)}),Z=n=>{const c=()=>{S=!0,n()},l=()=>{S=!1};return v("online",c),v("offline",l),()=>{_("online",c),_("offline",l)}},F={isOnline:s,isVisible:k},z={initFocus:Q,initReconnect:Z},ue=!i.default.useId,me=!A||X,Ve=n=>o()?window.requestAnimationFrame(n):setTimeout(n,1),je=me?e.useEffect:e.useLayoutEffect,Oe=typeof navigator<"u"&&navigator.connection,ve=!me&&Oe&&(["slow-2g","2g"].includes(Oe.effectiveType)||Oe.saveData),Ne=new WeakMap,le=n=>H.prototype.toString.call(n),xe=(n,c)=>n===`[object ${c}]`;let d=0;const he=n=>{const c=typeof n,l=le(n),T=xe(l,"Date"),E=xe(l,"RegExp"),R=xe(l,"Object");let m,j;if(H(n)===n&&!T&&!E){if(m=Ne.get(n),m)return m;if(m=++d+"~",Ne.set(n,m),Array.isArray(n)){for(m="@",j=0;j<n.length;j++)m+=he(n[j])+",";Ne.set(n,m)}if(R){m="#";const L=H.keys(n).sort();for(;!O(j=L.pop());)O(n[j])||(m+=j+":"+he(n[j])+",");Ne.set(n,m)}}else m=T?n.toJSON():c=="symbol"?n.toString():c=="string"?JSON.stringify(n):""+n;return m},we=n=>{if(G(n))try{n=n()}catch{n=""}const c=n;return n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?he(n):"",[n,c]};let _e=0;const ge=()=>++_e;async function Ie(...n){const[c,l,T,E]=n,R=M({populateCache:!0,throwOnError:!0},typeof E=="boolean"?{revalidate:E}:E||{});let m=R.populateCache;const j=R.rollbackOnError;let L=R.optimisticData;const be=K=>typeof j=="function"?j(K):j!==!1,ne=R.throwOnError;if(G(l)){const K=l,q=[],oe=c.keys();for(const fe of oe)!/^\$(inf|sub)\$/.test(fe)&&K(c.get(fe)._k)&&q.push(fe);return Promise.all(q.map(re))}return re(l);async function re(K){const[q]=we(K);if(!q)return;const[oe,fe]=C(c,q),[b,N,V,w]=p.get(c),ee=()=>{const se=b[q];return(G(R.revalidate)?R.revalidate(oe().data,K):R.revalidate!==!1)&&(delete V[q],delete w[q],se&&se[0])?se[0](I.MUTATE_EVENT).then(()=>oe().data):oe().data};if(n.length<3)return ee();let $=T,U,P=!1;const ie=ge();N[q]=[ie,0];const Le=!O(L),Ue=oe(),Pe=Ue.data,J=Ue._c,Y=O(J)?Pe:J;if(Le&&(L=G(L)?L(Y,Pe):L,fe({data:L,_c:Y})),G($))try{$=$(Y)}catch(se){U=se,P=!0}if($&&ce($))if($=await $.catch(se=>{U=se,P=!0}),ie!==N[q][0]){if(P)throw U;return $}else P&&Le&&be(U)&&(m=!0,fe({data:Y,_c:h}));if(m&&!P)if(G(m)){const se=m($,Y);fe({data:se,error:h,_c:h})}else fe({data:$,error:h,_c:h});if(N[q][1]=ge(),Promise.resolve(ee()).then(()=>{fe({_c:h})}),P){if(ne)throw U;return}return $}}const Te=(n,c)=>{for(const l in n)n[l][0]&&n[l][0](c)},D=(n,c)=>{if(!p.has(n)){const l=M(z,c),T=Object.create(null),E=Ie.bind(h,n);let R=y;const m=Object.create(null),j=(ne,re)=>{const K=m[ne]||[];return m[ne]=K,K.push(re),()=>K.splice(K.indexOf(re),1)},L=(ne,re,K)=>{n.set(ne,re);const q=m[ne];if(q)for(const oe of q)oe(re,K)},be=()=>{if(!p.has(n)&&(p.set(n,[T,Object.create(null),Object.create(null),Object.create(null),E,L,j]),!me)){const ne=l.initFocus(setTimeout.bind(h,Te.bind(h,T,I.FOCUS_EVENT))),re=l.initReconnect(setTimeout.bind(h,Te.bind(h,T,I.RECONNECT_EVENT)));R=()=>{ne&&ne(),re&&re(),p.delete(n)}}};return be(),[n,E,be,R]}return[n,p.get(n)[4]]},De=(n,c,l,T,E)=>{const R=l.errorRetryCount,m=E.retryCount,j=~~((Math.random()+.5)*(1<<(m<8?m:8)))*l.errorRetryInterval;!O(R)&&m>R||setTimeout(T,j,E)},de=a.dequal,[Re,qe]=D(new Map),He=M({onLoadingSlow:y,onSuccess:y,onError:y,onErrorRetry:De,onDiscarded:y,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ve?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ve?5e3:3e3,compare:de,isPaused:()=>!1,cache:Re,mutate:qe,fallback:{}},F),Ee=(n,c)=>{const l=M(n,c);if(c){const{use:T,fallback:E}=n,{use:R,fallback:m}=c;T&&R&&(l.use=T.concat(R)),E&&m&&(l.fallback=M(E,m))}return l},pe=e.createContext({}),Me=n=>{const{value:c}=n,l=e.useContext(pe),T=G(c),E=e.useMemo(()=>T?c(l):c,[T,l,c]),R=e.useMemo(()=>T?E:Ee(l,E),[T,l,E]),m=E&&E.provider,j=e.useRef(h);m&&!j.current&&(j.current=D(m(R.cache||Re),E));const L=j.current;return L&&(R.cache=L[0],R.mutate=L[1]),je(()=>{if(L)return L[2]&&L[2](),L[3]},[]),e.createElement(pe.Provider,M(n,{value:R}))};return g.IS_REACT_LEGACY=ue,g.IS_SERVER=me,g.OBJECT=H,g.SWRConfig=Me,g.SWRConfigContext=pe,g.SWRGlobalState=p,g.UNDEFINED=h,g.cache=Re,g.compare=de,g.createCacheHelper=C,g.defaultConfig=He,g.defaultConfigOptions=z,g.getTimestamp=ge,g.hasRequestAnimationFrame=o,g.initCache=D,g.internalMutate=Ie,g.isDocumentDefined=x,g.isFunction=G,g.isLegacyDeno=X,g.isPromiseLike=ce,g.isUndefined=O,g.isWindowDefined=A,g.mergeConfigs=Ee,g.mergeObjects=M,g.mutate=qe,g.noop=y,g.preset=F,g.rAF=Ve,g.serialize=we,g.slowConnection=ve,g.stableHash=he,g.useIsomorphicLayoutEffect=je,g}var We={},ct;function Mt(){if(ct)return We;ct=1,Object.defineProperty(We,"__esModule",{value:!0});const e="$inf$";return We.INFINITE_PREFIX=e,We}var ut={},lt;function Wt(){return lt||(lt=1),ut}var dt;function kt(){return dt||(dt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=qt(),a=ht(),r=Mt(),f=ke(),i=Wt();function I(o){return o&&o.__esModule?o:{default:o}}function p(o){if(o&&o.__esModule)return o;var C=Object.create(null);return o&&Object.keys(o).forEach(function(S){if(S!=="default"){var s=Object.getOwnPropertyDescriptor(o,S);Object.defineProperty(C,S,s.get?s:{enumerable:!0,get:function(){return o[S]}})}}),C.default=o,C}var y=p(a),h=I(f);const H=t.isWindowDefined&&window.__SWR_DEVTOOLS_USE__,O=H?window.__SWR_DEVTOOLS_USE__:[],G=()=>{H&&(window.__SWR_DEVTOOLS_REACT__=h.default)},M=o=>t.isFunction(o[1])?[o[0],o[1],o[2]||{}]:[o[0],null,(o[1]===null?o[2]:o[1])||{}],ce=()=>{const o=f.useContext(t.SWRConfigContext);return f.useMemo(()=>t.mergeObjects(t.defaultConfig,o),[o])},ae=(o,C)=>{const[S,s]=t.serialize(o),[,,,v]=t.SWRGlobalState.get(t.cache);if(v[S])return v[S];const _=C(s);return v[S]=_,_},B=o=>(C,S,s)=>o(C,S&&((..._)=>{const[k]=t.serialize(C),[,,,Q]=t.SWRGlobalState.get(t.cache);if(k.startsWith(r.INFINITE_PREFIX))return S(..._);const Z=Q[k];return t.isUndefined(Z)?S(..._):(delete Q[k],Z)}),s),W=O.concat(B),A=o=>function(...S){const s=ce(),[v,_,k]=M(S),Q=t.mergeConfigs(s,k);let Z=o;const{use:F}=Q,z=(F||[]).concat(W);for(let ue=z.length;ue--;)Z=z[ue](Z);return Z(v,_||Q.fetcher||null,Q)},x=(o,C,S)=>{const s=C[o]||(C[o]=[]);return s.push(S),()=>{const v=s.indexOf(S);v>=0&&(s[v]=s[s.length-1],s.pop())}},X=(o,C)=>(...S)=>{const[s,v,_]=M(S),k=(_.use||[]).concat(C);return o(s,v,{..._,use:k})};G(),e.IS_REACT_LEGACY=t.IS_REACT_LEGACY,e.IS_SERVER=t.IS_SERVER,e.OBJECT=t.OBJECT,e.SWRConfig=t.SWRConfig,e.SWRGlobalState=t.SWRGlobalState,e.UNDEFINED=t.UNDEFINED,e.cache=t.cache,e.compare=t.compare,e.createCacheHelper=t.createCacheHelper,e.defaultConfig=t.defaultConfig,e.defaultConfigOptions=t.defaultConfigOptions,e.getTimestamp=t.getTimestamp,e.hasRequestAnimationFrame=t.hasRequestAnimationFrame,e.initCache=t.initCache,e.internalMutate=t.internalMutate,e.isDocumentDefined=t.isDocumentDefined,e.isFunction=t.isFunction,e.isLegacyDeno=t.isLegacyDeno,e.isPromiseLike=t.isPromiseLike,e.isUndefined=t.isUndefined,e.isWindowDefined=t.isWindowDefined,e.mergeConfigs=t.mergeConfigs,e.mergeObjects=t.mergeObjects,e.mutate=t.mutate,e.noop=t.noop,e.preset=t.preset,e.rAF=t.rAF,e.serialize=t.serialize,e.slowConnection=t.slowConnection,e.stableHash=t.stableHash,e.useIsomorphicLayoutEffect=t.useIsomorphicLayoutEffect,e.revalidateEvents=y,Object.defineProperty(e,"INFINITE_PREFIX",{enumerable:!0,get:function(){return r.INFINITE_PREFIX}}),e.normalize=M,e.preload=ae,e.subscribeCallback=x,e.useSWRConfig=ce,e.withArgs=A,e.withMiddleware=X,Object.keys(i).forEach(function(o){o!=="default"&&!Object.prototype.hasOwnProperty.call(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:function(){return i[o]}})})}(Ke)),Ke}var ft;function zt(){return ft||(ft=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ke(),a=pt(),r=kt();function f(s){return s&&s.__esModule?s:{default:s}}var i=f(t);const p=void 0,y=Object,h=s=>s===p,H=s=>typeof s=="function",O=new WeakMap,G=s=>y.prototype.toString.call(s),M=(s,v)=>s===`[object ${v}]`;let ce=0;const ae=s=>{const v=typeof s,_=G(s),k=M(_,"Date"),Q=M(_,"RegExp"),Z=M(_,"Object");let F,z;if(y(s)===s&&!k&&!Q){if(F=O.get(s),F)return F;if(F=++ce+"~",O.set(s,F),Array.isArray(s)){for(F="@",z=0;z<s.length;z++)F+=ae(s[z])+",";O.set(s,F)}if(Z){F="#";const ue=y.keys(s).sort();for(;!h(z=ue.pop());)h(s[z])||(F+=z+":"+ae(s[z])+",");O.set(s,F)}}else F=k?s.toJSON():v=="symbol"?s.toString():v=="string"?JSON.stringify(s):""+s;return F},B=s=>{if(H(s))try{s=s()}catch{s=""}const v=s;return s=typeof s=="string"?s:(Array.isArray(s)?s.length:s)?ae(s):"",[s,v]},W=s=>B(s)[0],A=i.default.use||(s=>{switch(s.status){case"pending":throw s;case"fulfilled":return s.value;case"rejected":throw s.reason;default:throw s.status="pending",s.then(v=>{s.status="fulfilled",s.value=v},v=>{s.status="rejected",s.reason=v}),s}}),x={dedupe:!0},X=Promise.resolve(r.UNDEFINED),o=(s,v,_)=>{const{cache:k,compare:Q,suspense:Z,fallbackData:F,revalidateOnMount:z,revalidateIfStale:ue,refreshInterval:me,refreshWhenHidden:Ve,refreshWhenOffline:je,keepPreviousData:Oe}=_,[ve,Ne,le,xe]=r.SWRGlobalState.get(k),[d,he]=r.serialize(s),we=t.useRef(!1),_e=t.useRef(!1),ge=t.useRef(d),Ie=t.useRef(v),Te=t.useRef(_),D=()=>Te.current,De=()=>D().isVisible()&&D().isOnline(),[de,Re,qe,He]=r.createCacheHelper(k,d),Ee=t.useRef({}).current,pe=r.isUndefined(F)?r.isUndefined(_.fallback)?r.UNDEFINED:_.fallback[d]:F,Me=(b,N)=>{for(const V in Ee){const w=V;if(w==="data"){if(!Q(b[w],N[w])&&(!r.isUndefined(b[w])||!Q(L,N[w])))return!1}else if(N[w]!==b[w])return!1}return!0},n=t.useMemo(()=>{const b=!d||!v?!1:r.isUndefined(z)?D().isPaused()||Z?!1:ue!==!1:z,N=P=>{const ie=r.mergeObjects(P);return delete ie._k,b?{isValidating:!0,isLoading:!0,...ie}:ie},V=de(),w=He(),ee=N(V),$=V===w?ee:N(w);let U=ee;return[()=>{const P=N(de());return Me(P,U)?(U.data=P.data,U.isLoading=P.isLoading,U.isValidating=P.isValidating,U.error=P.error,U):(U=P,P)},()=>$]},[k,d]),c=a.useSyncExternalStore(t.useCallback(b=>qe(d,(N,V)=>{Me(V,N)||b()}),[k,d]),n[0],n[1]),l=!we.current,T=ve[d]&&ve[d].length>0,E=c.data,R=r.isUndefined(E)?pe&&r.isPromiseLike(pe)?A(pe):pe:E,m=c.error,j=t.useRef(R),L=Oe?r.isUndefined(E)?r.isUndefined(j.current)?R:j.current:E:R,be=T&&!r.isUndefined(m)?!1:l&&!r.isUndefined(z)?z:D().isPaused()?!1:Z?r.isUndefined(R)?!1:ue:r.isUndefined(R)||ue,ne=!!(d&&v&&l&&be),re=r.isUndefined(c.isValidating)?ne:c.isValidating,K=r.isUndefined(c.isLoading)?ne:c.isLoading,q=t.useCallback(async b=>{const N=Ie.current;if(!d||!N||_e.current||D().isPaused())return!1;let V,w,ee=!0;const $=b||{},U=!le[d]||!$.dedupe,P=()=>r.IS_REACT_LEGACY?!_e.current&&d===ge.current&&we.current:d===ge.current,ie={isValidating:!1,isLoading:!1},Le=()=>{Re(ie)},Ue=()=>{const J=le[d];J&&J[1]===w&&delete le[d]},Pe={isValidating:!0};r.isUndefined(de().data)&&(Pe.isLoading=!0);try{if(U&&(Re(Pe),_.loadingTimeout&&r.isUndefined(de().data)&&setTimeout(()=>{ee&&P()&&D().onLoadingSlow(d,_)},_.loadingTimeout),le[d]=[N(he),r.getTimestamp()]),[V,w]=le[d],V=await V,U&&setTimeout(Ue,_.dedupingInterval),!le[d]||le[d][1]!==w)return U&&P()&&D().onDiscarded(d),!1;ie.error=r.UNDEFINED;const J=Ne[d];if(!r.isUndefined(J)&&(w<=J[0]||w<=J[1]||J[1]===0))return Le(),U&&P()&&D().onDiscarded(d),!1;const Y=de().data;ie.data=Q(Y,V)?Y:V,U&&P()&&D().onSuccess(V,d,_)}catch(J){Ue();const Y=D(),{shouldRetryOnError:se}=Y;Y.isPaused()||(ie.error=J,U&&P()&&(Y.onError(J,d,Y),(se===!0||r.isFunction(se)&&se(J))&&(!D().revalidateOnFocus||!D().revalidateOnReconnect||De())&&Y.onErrorRetry(J,d,Y,nt=>{const $e=ve[d];$e&&$e[0]&&$e[0](r.revalidateEvents.ERROR_REVALIDATE_EVENT,nt)},{retryCount:($.retryCount||0)+1,dedupe:!0})))}return ee=!1,Le(),!0},[d,k]),oe=t.useCallback((...b)=>r.internalMutate(k,ge.current,...b),[]);if(r.useIsomorphicLayoutEffect(()=>{Ie.current=v,Te.current=_,r.isUndefined(E)||(j.current=E)}),r.useIsomorphicLayoutEffect(()=>{if(!d)return;const b=q.bind(r.UNDEFINED,x);let N=0;D().revalidateOnFocus&&(N=Date.now()+D().focusThrottleInterval);const V=(ee,$={})=>{if(ee==r.revalidateEvents.FOCUS_EVENT){const U=Date.now();D().revalidateOnFocus&&U>N&&De()&&(N=U+D().focusThrottleInterval,b())}else if(ee==r.revalidateEvents.RECONNECT_EVENT)D().revalidateOnReconnect&&De()&&b();else{if(ee==r.revalidateEvents.MUTATE_EVENT)return q();if(ee==r.revalidateEvents.ERROR_REVALIDATE_EVENT)return q($)}},w=r.subscribeCallback(d,ve,V);return _e.current=!1,ge.current=d,we.current=!0,Re({_k:he}),be&&(le[d]||(r.isUndefined(R)||r.IS_SERVER?b():r.rAF(b))),()=>{_e.current=!0,w()}},[d]),r.useIsomorphicLayoutEffect(()=>{let b;function N(){const w=r.isFunction(me)?me(de().data):me;w&&b!==-1&&(b=setTimeout(V,w))}function V(){!de().error&&(Ve||D().isVisible())&&(je||D().isOnline())?q(x).then(N):N()}return N(),()=>{b&&(clearTimeout(b),b=-1)}},[me,Ve,je,d]),t.useDebugValue(L),Z){const b=d&&r.isUndefined(R);if(!r.IS_REACT_LEGACY&&r.IS_SERVER&&b)throw new Error("Fallback data is required when using Suspense in SSR.");b&&(Ie.current=v,Te.current=_,_e.current=!1);const N=xe[d],V=!r.isUndefined(N)&&b?oe(N):X;if(A(V),!r.isUndefined(m)&&b)throw m;const w=b?q(x):X;!r.isUndefined(L)&&b&&(w.status="fulfilled",w.value=!0),A(w)}return{mutate:oe,get data(){return Ee.data=!0,L},get error(){return Ee.error=!0,m},get isValidating(){return Ee.isValidating=!0,re},get isLoading(){return Ee.isLoading=!0,K}}},C=r.OBJECT.defineProperty(r.SWRConfig,"defaultValue",{value:r.defaultConfig}),S=r.withArgs(o);Object.defineProperty(e,"mutate",{enumerable:!0,get:function(){return r.mutate}}),Object.defineProperty(e,"preload",{enumerable:!0,get:function(){return r.preload}}),Object.defineProperty(e,"useSWRConfig",{enumerable:!0,get:function(){return r.useSWRConfig}}),e.SWRConfig=C,e.default=S,e.unstable_serialize=W}(Ge)),Ge}var mt;function Ht(){if(mt)return Fe;mt=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.useLanyard=void 0;var e=Ze,t=ke(),a=e.__importDefault(zt()),r=et(),f=function(i){var I=i.apiUrl||r.API_URL;if(i.socket){var p=(0,t.useState)(),y=p[0],h=p[1],H=(0,t.useState)(),O=H[0],G=H[1],M=(0,t.useState)(!0),ce=M[0],ae=M[1];return(0,t.useEffect)(function(){var B="WebSocket"in window||"MozWebSocket"in window;if(i.socket&&!B)throw new Error("Browser doesn't support WebSocket connections.");var W=typeof i.userId=="object"?"subscribe_to_ids":"subscribe_to_id",A,x,X=function(){A&&clearInterval(A),x=new WebSocket("wss://".concat(I,"/socket")),G(x),ae(!0),x.addEventListener("open",function(){var o;x.send(JSON.stringify({op:2,d:(o={},o[W]=i.userId,o)})),A=setInterval(function(){x.send(JSON.stringify({op:3}))},r.HEARTBEAT_INTERVAL)}),x.addEventListener("message",function(o){var C=o.data,S=JSON.parse(C),s=S.t,v=S.d;(s==="INIT_STATE"||s==="PRESENCE_UPDATE")&&(h(v||{}),ce&&ae(!1))}),x.addEventListener("close",X)};return X(),function(){clearInterval(A),x.removeEventListener("close",X),x.close()}},[]),{websocket:O,loading:ce,status:y}}else return typeof i.userId=="string"?(0,a.default)("lanyard_".concat(i.userId),function(){return e.__awaiter(void 0,void 0,void 0,function(){var B,W;return e.__generator(this,function(A){switch(A.label){case 0:return[4,fetch("https://".concat(I,"/v1/users/").concat(i.userId))];case 1:return B=A.sent(),[4,B.json()];case 2:if(W=A.sent(),W.error)throw new Error(W.error.message);return[2,W]}})})}):(0,a.default)("lanyard_".concat(i.userId.join("_")),function(){return e.__awaiter(void 0,void 0,void 0,function(){var B,W,A,x,X,o;return e.__generator(this,function(C){switch(C.label){case 0:B=[],W=0,A=i.userId,C.label=1;case 1:return W<A.length?(x=A[W],[4,fetch("https://".concat(I,"/v1/users/").concat(x))]):[3,5];case 2:return X=C.sent(),[4,X.json()];case 3:if(o=C.sent(),o.error)throw new Error(o.error.message);B.push(o),C.label=4;case 4:return W++,[3,1];case 5:return[2,B]}})})})};return Fe.useLanyard=f,Fe}var Ye={},vt;function $t(){return vt||(vt=1,Object.defineProperty(Ye,"__esModule",{value:!0})),Ye}var gt;function Bt(){return gt||(gt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ze;t.__exportStar(et(),e),t.__exportStar(Ft(),e),t.__exportStar(Ht(),e),t.__exportStar($t(),e)}(Be)),Be}var Gt=Bt(),Kt=pt();function Jt(){return Kt.useSyncExternalStore(Yt,()=>!0,()=>!1)}function Yt(){return()=>{}}var tt="Avatar",[Xt,dn]=Lt(tt),[Qt,_t]=Xt(tt),Rt=te.forwardRef((e,t)=>{const{__scopeAvatar:a,...r}=e,[f,i]=te.useState("idle");return u.jsx(Qt,{scope:a,imageLoadingStatus:f,onImageLoadingStatusChange:i,children:u.jsx(Qe.span,{...r,ref:t})})});Rt.displayName=tt;var bt="AvatarImage",yt=te.forwardRef((e,t)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:f=()=>{},...i}=e,I=_t(bt,a),p=Zt(r,i),y=Ut(h=>{f(h),I.onImageLoadingStatusChange(h)});return Xe(()=>{p!=="idle"&&y(p)},[p,y]),p==="loaded"?u.jsx(Qe.img,{...i,ref:t,src:r}):null});yt.displayName=bt;var Ct="AvatarFallback",St=te.forwardRef((e,t)=>{const{__scopeAvatar:a,delayMs:r,...f}=e,i=_t(Ct,a),[I,p]=te.useState(r===void 0);return te.useEffect(()=>{if(r!==void 0){const y=window.setTimeout(()=>p(!0),r);return()=>window.clearTimeout(y)}},[r]),I&&i.imageLoadingStatus!=="loaded"?u.jsx(Qe.span,{...f,ref:t}):null});St.displayName=Ct;function Et(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Zt(e,{referrerPolicy:t,crossOrigin:a}){const r=Jt(),f=te.useRef(null),i=r?(f.current||(f.current=new window.Image),f.current):null,[I,p]=te.useState(()=>Et(i,e));return Xe(()=>{p(Et(i,e))},[i,e]),Xe(()=>{const y=O=>()=>{p(O)};if(!i)return;const h=y("loaded"),H=y("error");return i.addEventListener("load",h),i.addEventListener("error",H),t&&(i.referrerPolicy=t),typeof a=="string"&&(i.crossOrigin=a),()=>{i.removeEventListener("load",h),i.removeEventListener("error",H)}},[i,a,t]),I}var Nt=Rt,wt=yt,It=St;const Tt=te.forwardRef(({className:e,...t},a)=>u.jsx(Nt,{ref:a,className:ze("relative flex h-10 w-10 shrink-0 overflow-hidden",e),...t}));Tt.displayName=Nt.displayName;const At=te.forwardRef(({className:e,...t},a)=>u.jsx(wt,{ref:a,className:ze("aspect-square size-full",e),...t}));At.displayName=wt.displayName;const jt=te.forwardRef(({className:e,...t},a)=>u.jsx(It,{ref:a,className:ze("flex size-full items-center justify-center bg-muted",e),...t}));jt.displayName=It.displayName;const en=({src:e,alt:t,fallback:a,className:r})=>u.jsxs(Tt,{className:r,children:[u.jsx(At,{src:e,alt:t}),u.jsx(jt,{children:a})]}),fn=()=>{const{data:e,isLoading:t}=Gt.useLanyard({userId:"255315077501157376"}),a=te.useMemo(()=>e?.data?.activities?e.data.activities.find(I=>I.type===0&&I.assets):null,[e?.data?.activities]),r=!!a,[f,i]=te.useState("");return te.useEffect(()=>{if(!a?.timestamps?.start)return;const I=()=>{a.timestamps?.start&&i(Pt(a.timestamps.start.toString()))};I();const p=setInterval(I,1e3);return()=>clearInterval(p)},[a]),t?u.jsxs("div",{className:"relative overflow-hidden sm:aspect-square",children:[u.jsxs("div",{className:"grid size-full grid-rows-4",children:[u.jsx(Ae,{className:"bg-secondary/50"}),u.jsxs("div",{className:"row-span-3 flex flex-col gap-3 p-3",children:[u.jsxs("div",{className:"flex justify-between gap-x-1",children:[u.jsx(Ae,{className:"-mt-[4.5rem] aspect-square size-24 rounded-full"}),u.jsx(Ae,{className:"h-6 w-[104px] rounded-xl"})]}),u.jsx(Ae,{className:"h-14 w-full rounded-xl"}),u.jsx(Ae,{className:"flex grow rounded-xl"})]})]}),u.jsx(Ae,{className:"absolute right-0 top-0 z-[1] m-3 size-14 rounded-full"})]}):!e||!e.data?null:u.jsxs("div",{className:"relative overflow-hidden sm:aspect-square",children:[u.jsxs("div",{className:"grid size-full grid-rows-4",children:[u.jsx("div",{className:"bg-secondary/50"}),u.jsxs("div",{className:"row-span-3 flex flex-col gap-3 p-3",children:[u.jsxs("div",{className:"flex justify-between gap-x-1",children:[u.jsxs("div",{className:"relative",children:[u.jsx(en,{src:"/bento/avatar.webp",alt:"Avatar",fallback:"e",className:"-mt-[4.5rem] aspect-square size-24 rounded-full"}),u.jsxs("div",{className:ze("absolute bottom-0 right-0 size-6 rounded-full border-4 border-background",{"flex items-center justify-center bg-primary":e.data.discord_status==="online","bg-primary":e.data.discord_status==="idle","flex items-center justify-center bg-destructive":e.data.discord_status==="dnd","flex items-center justify-center bg-muted-foreground":e.data.discord_status==="offline"}),children:[e.data.discord_status==="idle"&&u.jsx("div",{className:"size-[10px] rounded-full bg-background"}),e.data.discord_status==="dnd"&&u.jsx("div",{className:"h-[4px] w-[11px] rounded-full bg-background"}),e.data.discord_status==="offline"&&u.jsx("div",{className:"size-2 rounded-full bg-background"})]})]}),u.jsx("div",{className:"flex items-center rounded-xl bg-secondary/50 px-2",children:u.jsx("img",{src:"/bento/badges.png",alt:"Discord Badges",width:104,height:24,className:"grayscale"})})]}),u.jsxs("div",{className:"flex flex-col gap-y-1 rounded-xl bg-secondary/50 p-3",children:[u.jsx("span",{className:"text-base leading-none",children:"jind0sh"}),u.jsx("span",{className:"text-xs leading-none text-muted-foreground",children:"@jind0sh"})]}),u.jsx("div",{className:"flex grow rounded-xl bg-secondary/50 px-3 py-2",children:r&&a&&a.assets?u.jsxs("div",{className:"flex w-full items-center gap-x-3",children:[u.jsx("div",{className:"relative aspect-square h-full w-auto flex-shrink-0 rounded-md bg-contain grayscale invert",style:{backgroundImage:`url('https://cdn.discordapp.com/app-assets/${a.application_id}/${a.assets.large_image}.png')`},children:a.assets.small_image&&u.jsx("img",{src:`https://cdn.discordapp.com/app-assets/${a.application_id}/${a.assets.small_image}.png`,alt:"Now Playing",width:20,height:20,className:"absolute -bottom-1 -right-1 rounded-full border-2 grayscale invert"})}),u.jsxs("div",{className:"my-2 flex min-w-0 flex-1 flex-col gap-y-1 overflow-hidden",children:[a.name&&u.jsx("div",{className:"mb-0.5 truncate text-xs leading-none",children:a.name}),a.details&&u.jsx("div",{className:"truncate text-[10px] leading-none text-muted-foreground",children:a.details}),a.state&&u.jsx("div",{className:"truncate text-[10px] leading-none text-muted-foreground",children:a.state}),f&&u.jsx("div",{className:"text-[11px] leading-none text-muted-foreground",children:f})]})]}):u.jsxs("div",{className:"flex size-full flex-col items-center justify-center gap-1",children:[u.jsx("img",{src:"/bento/bento-discord-futon.svg",alt:"No Status Image",width:64,height:64,className:"h-full w-fit rounded-lg"}),u.jsx("div",{className:"text-[10px] text-muted-foreground",children:"No status!"})]})})]})]}),u.jsx("div",{className:"absolute right-0 top-0 z-[1] m-3 flex size-14 items-center justify-center rounded-full bg-primary",children:u.jsx(xt,{className:"size-10 text-background"})})]})};export{fn as default};
